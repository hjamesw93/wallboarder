$(function(){function a(a,b,c){"undefined"!=typeof c&&c.find(".colorPicker").each(function(){$(this).tinycolorpicker(),$(this).off("change").on("change",function(){$(this).hasClass("colorPickerBG")?($(this).parent().siblings(".box").css("background",$(this).data("plugin_tinycolorpicker").colorHex),"undefined"!=typeof b&&(b.hasClass("wb_table")?b.find("th").css("background",$(this).data("plugin_tinycolorpicker").colorHex):b.css("background",$(this).data("plugin_tinycolorpicker").colorHex))):$(this).hasClass("colorPickerTX")&&($(this).parent().siblings(".box").css("color",$(this).data("plugin_tinycolorpicker").colorHex),"undefined"!=typeof b&&(b.hasClass("wb_table")?b.find("th").css("color",$(this).data("plugin_tinycolorpicker").colorHex):b.css("color",$(this).data("plugin_tinycolorpicker").colorHex)))})})}$(window).load(a),$("#plt").on("newColorPickers",function(b,c,d){function e(a,b,c){return"<div class='colorPicker "+a+"'>                       <a class='color'>                           <div class='colorInner' style='background-color:"+c+";'></div>                       </a>                       <p>"+b+"</p>                       <div class='track'></div>                       <div class='hex-entry form-group'>                         <label>HEX:</label>                         <input type='text' class='form-control hexEntry'/>                       </div>                       <ul class='dropdown'>                           <li></li>                       </ul>                       <input type='hidden' class='colorInput'>                     </div>"}d.hasClass("enabled")&&(d.append(e("colorPickerBG","Bg",$(c).css("background-color"))+e("colorPickerTX","Aa",$(c).css("color"))),a(null,$(c),$(d)))})}),function(){function a(){var a={title:$("body").find("h1").text(),url_slug:$("#url_slug").val(),autoLayout:!1,elems:[]};$(".wb").children().each(function(b){i=$(this),elem={id:"wb_"+b,tagName:i.prop("tagName")},i.hasClass("wb_box")?(elem.innerText=i.find(".box-content").text(),1==i.find(".box-decoration").length&&(c=i.find("i").attr("class").split(" "),elem.decoration=c[c.length-1],elem.decorationStyle=[["color",i.find(".box-decoration").css("color")],["background-color",i.find(".box-decoration").css("background-color")],["width",i.find(".box-decoration").outerWidth()/i.find(".box-decoration").parent().outerWidth()*100+"%"]]),elem.contentStyle=[["color",i.find(".box-content").css("color")],["background-color",i.find(".box-content").css("background-color")],function(){var a=i.find(".box-content");return a.hasClass("box-content-full-width")?void 0:["width",a.outerWidth()/a.parent().outerWidth()*100+"%"]}()],elem.style=[["height",i.css("height")],["width",i.css("width")],["position","absolute"],["left",i.css("left")],["top",i.css("top")],["font-size",i.css("font-size")],["color",i.css("color")],["background-color",i.css("background-color")],["z-index",i.css("z-index")]]):i.hasClass("wb_table")?(elem.tagName="table",rows=[],columns=[],i.find("tr").each(function(a){var b=[];$(this).children().each(function(){($(this).is("th")&&!$(this).hasClass("tabledit-toolbar-column")||$(this).hasClass("tabledit-view-mode")&&0===$(this).children(".tabledit-toolbar").length)&&b.push($(this).text().replace(/TH\,|TD\,/,""))}),0==a&&(columns=b),rows.push(b)}),elem.struct={rows:rows},editable=[],columns.forEach(function(a,b){editable.push([parseInt(b),a[1]])}),elem.tableEditColumns={identifier:editable[0],editable:editable},elem.headStyle=[["background-color",i.find("th").css("background-color")],["color",i.find("th").css("color")]],elem.style=[["height",i.css("height")],["width",i.css("width")],["position","absolute"],["left",i.css("left")],["top",i.css("top")],["z-index",i.css("z-index")]]):"H1"==elem.tagName&&(elem.innerText=i.text(),elem.style=[["width","100%"],["position","fixed"],["background-color",i.css("background-color")],["color",i.css("color")]]),a.elems.push(elem)}).promise().done(function(){$.post("/save",{wb:a}),$(".wb").trigger("saved"),b&&location.assign("/")})}var b=!1;$("#save, #mini-save").on("click",function(){a()}),$("#revision").on("click",function(c){c.preventDefault(),b=!0,a()}),$(function(){1===$("#revisionsList").length&&$.get("/api/v1/revisions/"+$("#url_slug").val(),function(a){$(".wb").trigger("init-revision-pages",[a])})})}(),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){function b(b,e){function f(){return t?(m=a("<canvas></canvas>"),k.append(m),r=m[0].getContext("2d"),g()):a.each(j.options.colors,function(a,b){var c=q.clone();c.css("backgroundColor",b),c.attr("data-color",b),o.append(c)}),h(),j}function g(){var b=new Image,c=k.css("background-image").replace(/"/g,"").replace(/url\(|\)$/gi,"");b.crossOrigin="Anonymous",k.css("background-image","none"),a(b).load(function(){m.attr("width",this.width),m.attr("height",this.height),r.drawImage(b,0,0,this.width,this.height)}),b.src=j.options.backgroundUrl||c}function h(){var c=u?"touchstart":"mousedown";t?(l.bind(c,function(a){a.preventDefault(),a.stopPropagation(),k.toggle(),p.show()}),u?(m.bind("touchstart",function(a){return s=!0,i(a.originalEvent.touches[0]),!1}),m.bind("touchmove",function(a){return i(a.originalEvent.touches[0]),!1}),m.bind("touchend",function(a){return j.close(),!1})):(m.mousedown(function(b){return s=!0,i(b),a(document).bind("mouseup.colorpicker",function(b){return a(document).unbind(".colorpicker"),j.close(),!1}),!1}),m.mousemove(i))):(l.bind("mousedown",function(a){a.preventDefault(),a.stopPropagation(),o.toggle()}),o.delegate("li","mousedown",function(b){b.preventDefault(),b.stopImmediatePropagation();var c=a(this).attr("data-color");j.setColor(c),o.hide()})),p.on("keyup",function(a){var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(p.find("input").val());null!==c&&(j.setColor(p.find("input").val()),b.trigger("change",[j.colorHex,j.colorRGB]),j.close())})}function i(c){if(s){var d=a(c.target),e=d.offset(),f=r.getImageData(c.pageX-e.left,c.pageY-e.top,1,1).data;p.find("input").val(j.rgbToHex("rgb("+f[0]+","+f[1]+","+f[2]+")")),j.setColor("rgb("+f[0]+","+f[1]+","+f[2]+")"),b.trigger("change",[j.colorHex,j.colorRGB])}}this.options=a.extend({},d,e),this._defaults=d,this._name=c;var j=this,k=b.find(".track"),l=b.find(".color"),m=null,n=b.find(".colorInput"),o=b.find(".dropdown"),p=b.find(".hex-entry"),q=o.find("li").remove(),r=null,s=!1,t=!!document.createElement("canvas").getContext,u="ontouchstart"in document.documentElement;return this.colorHex="",this.colorRGB="",this.setColor=function(a){a.indexOf("#")>=0?(j.colorHex=a,j.colorRGB=j.hexToRgb(j.colorHex)):(j.colorRGB=a,j.colorHex=j.rgbToHex(j.colorRGB)),l.find(".colorInner").css("backgroundColor",j.colorHex),n.val(j.colorHex)},this.close=function(){s=!1,k.hide(),p.hide()},this.hexToRgb=function(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return"rgb("+parseInt(b[1],16)+","+parseInt(b[2],16)+","+parseInt(b[3],16)+")"},this.rgbToHex=function(a){function b(a){var b=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F");return isNaN(a)?"00":b[(a-a%16)/16]+b[a%16]}var c=a.match(/\d+/g);return"#"+b(c[0])+b(c[1])+b(c[2])},f()}var c="tinycolorpicker",d={colors:["#ffffff","#A7194B","#FE2712","#FB9902","#FABC02","#FEFE33","#D0EA2B","#66B032","#0391CE","#0247FE","#3D01A5","#8601AF"],backgroundUrl:null};a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(a(this),d))})}}),function(){function a(a){this.sets=this.splitData(a),this.page=0;var b=this;if(""!==document.location.search){var c={};$.each(document.location.search.substr(1).split("&"),function(a,b){var d=b.split("=");c[d[0].toString()]=d[1].toString()}),b.page=parseInt(c.page)}b.buildPage(b.page),b.buildPaginationNav(),b.setEvents()}a.prototype.splitData=function(a){for(var b=[],c=[],d=0,e=0;e<a.length;e++)b.push(a[e]),((e+1)%20==0||e+1>=a.length)&&(d++,c.push(b),b=[]);return c},a.prototype.buildPaginationNav=function(){var a=this;$("#pg-prev").after(function(){for(var b="",c=0;c<a.sets.length;c++)b+="<li><a id='rev-set-"+c+"' href='#' class='rev-set "+(c==a.page?"active":"")+"' rev-set='"+c+"'>"+(c+1)+"</a></li>";return b})},a.prototype.setEvents=function(){var a=this;$(".rev-set").on("click",function(){$(".rev-set").each(function(){$(this).removeClass("active")}),$(this).addClass("active"),a.page=$(this).attr("rev-set"),a.buildPage(a.page)}),$(".pg-control").on("click",function(){"Next"===$(this).find("a").attr("aria-label")?(a.page++,a.page<=a.sets.length-1?a.buildPage(a.page):a.page=a.sets.length-1):"Previous"===$(this).find("a").attr("aria-label")&&(a.page--,a.page>=0?a.buildPage(a.page):a.page=0),$(".rev-set").each(function(){$(this).removeClass("active")}),$("#rev-set-"+a.page).addClass("active")})},a.prototype.buildPage=function(a){var b=this;$("#revisionsList").find("ul").html(function(){var c="";return b.sets[a].forEach(function(b){var d=new Date(b.datetime);$("#revisionsList").find("ul");c+="<li id='"+b.datetime+"'><a href='"+b.url+"?page="+a+"'>"+d.toLocaleTimeString()+" - "+d.toLocaleDateString()+"</a></li>"}),c}),$("#"+$("#currentRevision").val()).css({"font-weight":800,"text-decoration":"underline"})},$(".wb").on("init-revision-pages",function(b,c){new a(c)})}(),$(function(){var a=io(),b=$(".wb"),c=$("#url_slug").val();a.on("wb-event",function(a){a.wb!==c&&"global"!==a.wb||b.trigger("new-wb-event",[a])}),a.on("wb-server-io-external-upsert",function(a){a===c&&location.reload()}),a.emit("wb_nsp",{wb_nsp:c}),a.on("acc",function(a){var c=io("/"+a.wb_nsp);c.emit("wb-client-get-edit-status"),b.on("edit",function(){c.emit("wb-client-edit",c.id)}),b.on("saved",function(){c.emit("wb-client-save",c.id)}),c.on("wb-server-io-status",function(a){a.status&&a.client!==c.id&&(b.trigger("new-status-message",["Edit in progress..."]),b.trigger("read-only"))}),c.on("wb-server-io-event",function(a){"edit"===a.type?a.client!==c.id&&(b.trigger("new-status-message",["Edit in progress..."]),b.trigger("read-only")):"save"===a.type?(a.client!==c.id&&b.trigger("new-status-message",["Edit finished. Reloading..."]),location.reload()):"editor-quit"===a.type&&(b.trigger("new-status-message",["Edit aborted. Reloading..."]),location.reload())})}),a.on("disconnect",function(){function a(){setTimeout(function(){$.get("/ping",function(a){c||location.reload()}),a()},3e3)}b.trigger("new-status-message",["Server down, waiting for reconnect..."]),b.trigger("read-only");var c=!1;a()})});var wb_tables=[];!function(){function a(a,b){this.container=a,this.params=b,this.table=null,this.columnCount=null,this.rowCount=2,this.containerId=null,this.containerClass="wb_table draggable editable resizable-table ui-widget-content",this.wb=$(".wb"),this.cancelBtn=$("#wb-table-cancel"),this.confirmBtn=$("#wb-table-confirm"),this.tableRows=$("#tableRows"),this.tableCols=$("#tableCols"),this.colNames=$("#colNames"),this.init(!0)}a.prototype.init=function(a){void 0===this.container?this.buildTable():(this.container.find(".tabledit-toolbar").each(function(){$(this).parents("td").remove()}),null===this.table&&(this.table=this.container.find("table")),null===this.columnCount&&(this.columnCount=this.table.find("tr").first().children().length),this.table.Tabledit(this.params),a?this.setEvents():this.setRowEvents())},a.prototype.setRowEvents=function(){this.container.find(".tabledit-confirm-button").on("click",function(){$(this).parents("tr").remove()})},a.prototype.setEvents=function(){var a=this;this.container.on({dragstart:function(){$("#binIcon").effect("fade",500,function(){$(this).show()})},dragstop:function(){$("#binIcon").effect("fade",500,function(){$(this).hide()}),a.wb.trigger("fixZindex")},click:function(){a.wb.trigger("fixZindex"),wbChange=!0,a.wb.trigger("edit")}}),this.container.on({mouseenter:function(){$(this).find(".tabledit-delete-button, .tabledit-confirm-button, .newRow").css("visibility","visible"),$(this).find("td, th").addClass("wb_table_td_hover")},mouseleave:function(){$(this).find(".tabledit-delete-button, .tabledit-confirm-button, .newRow").css("visibility","hidden"),$(this).find("td, th").removeClass("wb_table_td_hover")}}),this.container.find(".tabledit-confirm-button").on("click",function(){$(this).parents("tr").remove()}),this.container.find(".newRow").on("click",function(){a.table.find("tbody").append(a.buildRow(a.columnCount,1,"td")),a.init(!1)}),a.cancelBtn.click(function(b){b.preventDefault(),a.wb.trigger("clearTableForm",[!0])}),a.confirmBtn.click(function(b){b.preventDefault(),a.wb.trigger("clearTableForm",[!1])}),$(".col-th-edit").on("keyup",function(){var b=$(this).attr("id").split("_"),c=b[b.length-1];$(a.container.find("th")[c]).text($(this).val());var d=!0;$(".col-th-edit").each(function(){""===$(this).val()&&(d=!1)}),d&&a.confirmBtn.removeClass("hidden")}),this.container.dblclick(function(){a.wb.trigger("startEdit",[$(this)])}),this.container.on("doubletap",function(){console.log("doubletap event fired"),a.wb.trigger("startEdit",[$(this)])})},a.prototype.buildRow=function(a,b,c){markup="";for(var d=0;b>d;d++){markup+="<tr>";for(var e=0;a>e;e++)markup+="<"+c+"></"+c+">";markup+="</tr>"}return markup},a.prototype.buildEditableParam=function(a){for(var b=[],c=0;a>c;c++)b.push([c,"col"+c]);return b},a.prototype.buildHeaderNameForm=function(a,b){for(var c="",d=0;a>d;d++)c+="<div class='form-group'><input id='deleteTable' type='hidden' value='"+b+"'/><label for='colName_"+d+"'>Column "+d+" Name:</label><input type='text' id='colName_"+d+"' name='colName_"+d+"' class='form-control col-th-edit'></div>";return c},a.prototype.buildTable=function(){this.cancelBtn.removeClass("hidden"),$(".selectable").selectable("disable"),this.tableCols.prop("disabled",!0),this.tableRows.prop("disabled",!0),this.tableCols.val()>0&&(this.columnCount=parseInt(this.tableCols.val()),this.containerId=Date.now(),this.tableRows.val()>0&&(this.rowCount=parseInt(this.tableRows.val())),$(".wb").append("<div id='"+this.containerId+"' class='"+this.containerClass+"' style='width:30%;'><button class='newRow btn btn-sm btn-default'><span class='glyphicon glyphicon-plus'></span></button><table class='table table-striped'><tbody>"+this.buildRow(this.columnCount,1,"th")+this.buildRow(this.columnCount,this.rowCount,"td")+"</tbody></table></div>"),this.container=$("#"+this.containerId),this.params={editButton:!1,deleteButton:!0,hideIdentifier:!1,toolbar:!0,columns:{identifier:[0,"col0"],editable:this.buildEditableParam(this.columnCount)}},wb_tables.push({t_elem:this.container,params:this.params}),this.table=this.container.find("table"),this.table.Tabledit(this.params),this.colNames.append(this.buildHeaderNameForm(this.columnCount,this.containerId)),this.setEvents(),this.wb.trigger("update_wb"))},$(function(){"true"!==$("#autoLayout").val()&&(wb_tables.forEach(function(b){new a($(b.t_elem),b.params)}),$(".wb").on("newWbTable",function(){new a}))})}(),function(){function a(a,b){this.wb=$(".wb"),this.container=a,this.id=b,this.drg=$(".draggable"),this.plt=$("#plt")}a.prototype.setEvents=function(){var a=this;this.container.on({dragstart:function(){$("#binIcon").effect("fade",500,function(){$(this).show()})},dragstop:function(){$("#binIcon").effect("fade",500,function(){$(this).hide()}),a.wb.trigger("fixZindex")},click:function(){a.wb.trigger("fixZindex")}}).dblclick(function(){a.wb.trigger("startEdit",[$(this)])}).on("doubletap",function(){a.wb.trigger("startEdit",[$(this)])}).on("rebuildTextBox",function(b,c,d,e,f){var g={bdColor:d.css("color"),bdBackground:function(a){return"rgba(0, 0, 0, 0)"===a||void 0===a?"rgb(239, 239, 239)":a}(d.css("background-color")),bcColor:e.css("color"),bcBackground:e.css("background-color")};a.container.find(".box-inner").html(a.buildTextBox(c.val(),e.text())),a.container.find(".box-inner").css("font-size",f),a.container.find(".box-decoration").css({color:g.bdColor,"background-color":g.bdBackground}),a.container.find(".box-content").css({color:g.bcColor,"background-color":g.bcBackground})})},a.prototype.addTextBox=function(a){var b=this;b.id=Date.now(),b.wb.append("<div id='"+b.id+"' class='draggable resizable editable wb_box'><div class='box-inner'>"+b.buildTextBox(b.plt.find(".boxDecoration").val(),a.text())+"</div></div>"),b.container=$("#"+b.id),b.container.css({color:a.css("color"),"background-color":a.css("background-color"),width:a.css("width"),height:a.css("height")}),b.container.find(".box-content").css("background-color",a.css("background-color")),b.container.find(".box-decoration").css("background-color",a.css("background-color")),a.text("Text goes here..."),a.css({"background-color":"#EFEFEF",color:"#000"}),$("#plt").find(".colorInner").each(function(){$(this).css("background-color","#EFEFEF")}),$("#boxText").val(""),$("#boxDecoration").val(""),b.wb.trigger("update_wb"),b.setEvents()},a.prototype.buildTextBox=function(a,b){return""===a?"<div class='box-content box-content-full-width'>"+b+"</div>":"<div class='box-decoration'><i class='fa "+a+"'></i></div>                <div class='box-content'>"+b+"</div>"},$(function(){$(".wb_box").each(function(){var b=new a($(this),$(this).attr("id"));b.setEvents()}),$(".wb").on("newTextBox",function(b,c){var d=new a(null,null);d.addTextBox(c)})})}(),wbChange=!1,function(){function a(){this.cancelButton=$("#wb-table-cancel"),this.confirmButton=$("#wb-table-confirm"),this.tableCols=$("#tableCols"),this.tableRows=$("#tableRows"),this.wb=$(".wb"),this.plt=$("#plt"),this.ez=$("#editZone"),this.autoLayout=function(a){return"undefined"===a?!1:"false"===a?!1:"true"===a?!0:void 0}($("#autoLayout").val()),this.init()}a.prototype.init=function(a){"undefined"==typeof a&&(a=!1),this.autoLayout?this.initAutoLayout():(this.initSelectables(),this.initDraggables(),this.initResizables(),this.initDroppables(),this.setEvents(a),this.setSidebarEvents(),this.fixZindex())},a.prototype.initAutoLayout=function(){this.wb.addClass("autoLayout")},a.prototype.initAccordion=function(){$(".accordion").accordion(),$("#accordion").css("height",$(window).height()-55)},a.prototype.initDraggables=function(){var a=this;$(".draggable").draggable({grid:[10,10],scroll:!1,stack:"div",stop:function(b,c){wbChange=!0,a.wb.trigger("edit")}})},a.prototype.initResizables=function(){var a=this;$(".resizable").resizable({autoHide:!0,grid:[10,10],handles:"n, ne, e, se, s, sw, w, nw",stop:function(b,c){wbChange=!0,a.wb.trigger("edit")}}),$(".resizable-table").resizable({autoHide:!0,grid:[10,10],handles:"e, w",stop:function(b,c){wbChange=!0,a.wb.trigger("edit")}})},a.prototype.initSelectables=function(){var a=this;$(".selectable").selectable({cancel:".secondary",stop:function(b,c){if(!$(this).hasClass("ui-selectable-disabled")){var d=0,e=0;$(".selectable").find("li").each(function(){if($(this).hasClass("ui-selected"))switch($(this).attr("data-row")){case"a":e=1,d++;break;case"b":e=2;break;case"c":e=3}}),a.clearTableForm(!1,null),a.tableCols.val(d),a.tableRows.val(e),$(".wb").trigger("newWbTable")}}})},a.prototype.initDroppables=function(){$("#binIcon").droppable({drop:function(a,b){$(b.draggable).effect("explode",500,function(){$(this).remove()})}})},a.prototype.setEvents=function(a){var b=this;if(a)wbChange=!0,b.wb.trigger("edit");else{this.wb.on("read-only",function(){$("#shield").css({height:$(window).height(),width:$(window).width(),"z-index":b.plt.css("z-index")+1})}).on("new-status-message",function(a,b){var c=$("#statusMessage");c.find("p").text(b),c.effect("fade",function(){c.css("display","block")})}).on("new-wb-event",function(a,b){var c=$("#eventBox");c.find("h1").text(b.message),b.icon?c.find("i").attr("class","fa "+b.icon):c.find("i").attr("class","fa fa-exclamation"),c.effect("fade",function(){c.css("display","block")}),setTimeout(function(){c.effect("fade",function(){c.css("display","none")})},b.delay?b.delay:2e4)}).on("fixZindex",function(){b.fixZindex()}).click(function(a){$(a.toElement).hasClass("wb")&&(b.ez.hide(),$("#accordion").show())});var c=$("#miniToolbar");$(".header").hover(function(a,b){$(a.toElement).hasClass("header")&&c.effect("fade",function(){c.show()})},function(a,b){$(a.toElement).hasClass("wb")&&c.effect("fade",function(){c.hide()})}).dblclick(function(){b.wb.trigger("startEdit",[$(this)])}).on("doubletap",function(){b.wb.trigger("startEdit",[$(this)])}),$("#plt-show").click(function(){$("#plt").effect("fade",function(){$(this).show()})}),$("#plt-hide").click(function(){$("#plt").effect("fade",function(){$(this).hide()})}),$("#addTextBox").on("click",function(a){a.preventDefault(),b.wb.trigger("newTextBox",[$(this).parent().siblings(".p_box")])}),$("#boxText").keyup(function(){$("#preview-box").text($("#boxText").val())})}$("#tableCols").change(function(){$(".wb").trigger("newWbTable")}),this.wb.off("clearTableForm").on("clearTableForm",function(a,c){b.clearTableForm(c)}).off("update_wb").on("update_wb",function(){b.init(!0)}).off("startEdit").on("startEdit",function(a,c){b.initEditSidebar(c)})},a.prototype.setSidebarEvents=function(a){var b=this;if("undefined"!=typeof a){$("#plt-edit-text, #plt-edit-title").off("keyup").on("keyup",function(){a.hasClass("wb_box")?a.find(".box-content").text($(this).val()):a.hasClass("header")&&a.text($(this).val())});var c=a.css("font-size");$("#plt-font-size").off("click").on("change",function(){c=$(this).val(),a.css("font-size",c)}),$("#wb-box-confirm").off("click").on("click",function(d){d.preventDefault(),$(a).trigger("rebuildTextBox",[$(this).parents(".panel-body").find(".boxDecoration"),a.find(".box-decoration"),a.find(".box-content"),c]),b.ez.hide(),$("#accordion").show()}),$(".dummyConfirmCancel").on("click",function(a){a.preventDefault(),b.ez.hide(),$("#accordion").show()})}$(".boxDecoration").on("keyup",function(){$(this).siblings("i").attr("class","boxDecorationPreview fa "+$(this).val())})},a.prototype.initEditSidebar=function(a){var b=this;wbChange=!0,b.wb.trigger("edit"),"none"===this.plt.css("display")&&this.plt.effect("fade",function(){$(this).show()}),$("#accordion").hide();var c=a.find(".fa").attr("class");$("#editZone").show(),b.ez.find(".panel").each(function(){$(this).hide()}),b.ez.find(".colorPickers").each(function(){$(this).html("")}),$("#editFontSize").html("");var d,e=[];a.hasClass("wb_table")?(d=$("#editTablePanel"),e.push({picker:$("#editColorPickersTableHeader"),target:a.find("th")})):a.hasClass("wb_box")?(d=$("#editTextPanel"),"undefined"==typeof c&&(c=""),$("#editBoxDecoration").val(c),$(".boxDecorationPreview").addClass(c),$("#plt-edit-text").val(a.text()),a.find(".box-decoration").length>0?(e.push({picker:$("#editColorPickersDecoration"),target:a.find(".box-decoration")}),b.ez.find("#editColorPickersDecoration").parent(".form-group").show()):b.ez.find("#editColorPickersDecoration").parent(".form-group").hide(),e.push({picker:$("#editColorPickersContent"),target:a.find(".box-content")}),$("#editFontSize").html(b.buildFontSizeSelect(a))):a.hasClass("header")&&(d=$("#editTitlePanel"),$("#plt-edit-title").val(a.text()),e.push({picker:$("#editColorPickersTitle"),target:a})),d.show(),e.forEach(function(a){a.picker.addClass("enabled"),b.plt.trigger("newColorPickers",[a.target,a.picker])}),b.setSidebarEvents(a)},a.prototype.buildFontSizeSelect=function(a){var b="<div class='form-group'><label for='plt-font-size'>Font Size:</label><select class='form-control' id='plt-font-size' name='plt-font-size'>",c=["12px","14px","18px","24px","30px","36px","48px","60px","72px","96px"];return $.each(c,function(c,d){b+=a.css("font-size")===d?"<option selected='selected'>"+d+"</option>":"<option>"+d+"</option>"}),b+="</select></div>"},a.prototype.clearTableForm=function(a){a&&$("#"+$("#deleteTable").val()).remove(),$("#colNames").html("");var b=$("#tableCols"),c=$("#tableRows");b.val(""),c.val(""),$(".selectable").selectable("enable"),b.prop("disabled",!1),this.cancelButton.addClass("hidden"),this.confirmButton.addClass("hidden")},a.prototype.fixZindex=function(){var a=0;$(".draggable").each(function(){$(this).css("z-index")>=a&&(a=$(this).css("z-index"))}),$("#plt").css("z-index",a+1)},$(window).load(function(){new a;$(".wb").css({height:$(window).height()}),$("#plt").trigger("newColorPickers",[$("#preview-box"),$("#insertTextBox").find(".colorPickers")])})}();